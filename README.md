# OneDriveä¸‹è½½åŠ©æ‰‹ - ç®€å•å¥½ç”¨çš„æ–‡ä»¶ä¸‹è½½å·¥å…· ğŸ“¥

# ç¬¬ä¸€æ­¥
æ‰¾åˆ°éé±¼å­ï¼Œä»–ä¼šç»™ä½ ä¸€äº›ä¸œè¥¿ã€‚

# ç¬¬äºŒæ­¥
åœ¨å½“å‰ç›®å½•åˆ›å»º./envæ–‡ä»¶ï¼ŒæŠŠéé±¼å­ç»™ä½ çš„ä¸œè¥¿ç²˜è´´è¿›å»ã€‚

# ç¬¬ä¸‰æ­¥

è¿è¡Œå‘½ä»¤


```
python browse_onedrive_with_shared.py 
```

å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œä¼šå¼¹å‡ºæç¤ºï¼š

To sign in, use a web browser to open the page https://microsoft.com/devicelogin and enter the code NFXKBK8ZE to authenticate.


ç›´æ¥è®¿é—®é“¾æ¥ï¼Œç„¶åå¤åˆ¶å¯¹åº”çš„codeåˆ°æµè§ˆå™¨ä¸­ã€‚

ç™»é™†å³å¯ã€‚

ç„¶åç»ˆç«¯ä¼šè¿›å…¥ä¸€ä¸ªå¯äº¤äº’çš„ç•Œé¢ï¼Œ

è¿™æ—¶å€™ç›´æ¥è¾“å…¥ `shared`,æŸ¥çœ‹å…±äº«æ–‡ä»¶å¤¹ã€‚


```
è¯·è¾“å…¥å‘½ä»¤: shared

=== å…±äº«é¡¹ç›® ===

  1. ğŸ“‚ æ–‡ä»¶å¤¹ wesoundeffects (ç”± æœªçŸ¥ç”¨æˆ· å…±äº«)
  2. ğŸ“‚ æ–‡ä»¶å¤¹ audiocaps (ç”± æœªçŸ¥ç”¨æˆ· å…±äº«)
  3. ğŸ“‚ æ–‡ä»¶å¤¹ CLAP_audio_dataset (ç”± æœªçŸ¥ç”¨æˆ· å…±äº«)

æ“ä½œ:
  cd <ç¼–å·> - è¿›å…¥æ–‡ä»¶å¤¹æˆ–å…±äº«é¡¹ç›®
  cd .. - è¿”å›ä¸Šä¸€çº§
  shared - æŸ¥çœ‹å…±äº«é¡¹ç›®
  home - è¿”å›ä¸ªäººæ ¹ç›®å½•
  path - æ˜¾ç¤ºå½“å‰å®Œæ•´è·¯å¾„
  download - ä¸‹è½½å½“å‰æ–‡ä»¶å¤¹
  exit - é€€å‡ºæµè§ˆå™¨

```

è¾“å…¥ `cd 3`

å¯ä»¥çœ‹åˆ°ï¼š

```
è¯·è¾“å…¥å‘½ä»¤: cd 3

=== å…±äº«é¡¹ç›®: CLAP_audio_dataset ===

æ–‡ä»¶å¤¹:
  1. ğŸ“‚ BBCSoundEffects
  2. ğŸ“‚ Clotho
  3. ğŸ“‚ ClothoAQA
  4. ğŸ“‚ ESC50_1
  5. ğŸ“‚ ESC50_2
  6. ğŸ“‚ ESC50_3
  7. ğŸ“‚ ESC50_4
  8. ğŸ“‚ ESC50_5
  9. ğŸ“‚ EmoV_DB
  10. ğŸ“‚ Jamendo_16bit
  11. ğŸ“‚ Knocking_sounds
  12. ğŸ“‚ MACS
  13. ğŸ“‚ Urbansound8K
  14. ğŸ“‚ VGGSound
  15. ğŸ“‚ WavText5K
  16. ğŸ“‚ audiocaps
  17. ğŸ“‚ audioset_strong
  18. ğŸ“‚ audioset_t5_debiased
  19. ğŸ“‚ audioset_wavcaps
  20. ğŸ“‚ audiostock
  21. ğŸ“‚ audiostock-train-250k
  22. ğŸ“‚ audiostock_250k
  23. ğŸ“‚ bbcsoundeffects_wavcaps
  24. ğŸ“‚ epidemic_sound_effects
  25. ğŸ“‚ epidemic_sound_effects_t5_debiased
  26. ğŸ“‚ esc50
  27. ğŸ“‚ esc50_no_overlap
  28. ğŸ“‚ free_to_use_sounds
  29. ğŸ“‚ genius_16bit_128
  30. ğŸ“‚ juno_16bit
  31. ğŸ“‚ paramount_motion
  32. ğŸ“‚ sonniss_game_effect
  33. ğŸ“‚ sonniss_game_effects
  34. ğŸ“‚ synth_instructions
  35. ğŸ“‚ wesoundeffects

```

è¿™é‡Œåˆ—ä¸¾äº†æ‰€æœ‰çš„é¡¹ç›®ï¼Œç„¶åæ‰¾åˆ°è¦ä¸‹è½½çš„é¡¹ç›®ï¼Œcdè¿›å»ï¼Œ

ä¾‹å¦‚ `cd 31`

å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç”»é¢
```
=== å…±äº«é¡¹ç›®: CLAP_audio_dataset/EmoV_DB ===

æ–‡ä»¶å¤¹:
  1. ğŸ“‚ test
  2. ğŸ“‚ train
  3. ğŸ“‚ valid

æ–‡ä»¶:
  (æ— æ–‡ä»¶)

æ“ä½œ:
  cd <ç¼–å·> - è¿›å…¥æ–‡ä»¶å¤¹æˆ–å…±äº«é¡¹ç›®
  cd .. - è¿”å›ä¸Šä¸€çº§
  shared - æŸ¥çœ‹å…±äº«é¡¹ç›®
  home - è¿”å›ä¸ªäººæ ¹ç›®å½•
  path - æ˜¾ç¤ºå½“å‰å®Œæ•´è·¯å¾„
  download - ä¸‹è½½å½“å‰æ–‡ä»¶å¤¹
  exit - é€€å‡ºæµè§ˆå™¨


```

ç„¶åè¾“å…¥ downloadå³å¯
```
è¯·è¾“å…¥å‘½ä»¤: download

è¦ä¸‹è½½çš„å…±äº«æ–‡ä»¶å¤¹ä¿¡æ¯:
é©±åŠ¨å™¨ID: b!mxLvO8_fT0WFEgKhZ6yFsfp19tyWN7ZAoE_IwT5dSt66L5RtyWF7TIFo9ewM8e4a
é¡¹ç›®ID: 01HVJG3GYS4VEGWJTQNFDYMKLTKZXJ7EQY
è¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½:
python onedrive_downloader_shared.py
ç„¶åè¾“å…¥é©±åŠ¨å™¨IDå’Œé¡¹ç›®ID: b!mxLvO8_fT0WFEgKhZ6yFsfp19tyWN7ZAoE_IwT5dSt66L5RtyWF7TIFo9ewM8e4a 01HVJG3GYS4VEGWJTQNFDYMKLTKZXJ7EQY

```
ä¼šå‘Šè¯‰ä½ ç”¨ä»€ä¹ˆå‘½ä»¤ï¼Œç„¶åå¯¹åº”çš„é©±åŠ¨å™¨idå’Œé¡¹ç›®idï¼Œ

ç„¶åé€€å‡ºç¨‹åºï¼Œè¿è¡Œ
python onedrive_downloader_shared.py

ç„¶åè¾“å…¥2

```
(base) root@autodl-container-322649a1f3-69f8bbcd:~/autodl-tmp/one_drive/onedrive_download# python onedrive_downloader_shared.py
è¯·è¾“å…¥å…±äº«é¡¹ç›®çš„ä¿¡æ¯:
1. åªè¾“å…¥é¡¹ç›®ID
2. è¾“å…¥é©±åŠ¨å™¨IDå’Œé¡¹ç›®ID
è¯·é€‰æ‹©è¾“å…¥æ–¹å¼ (1/2): b!mxLvO8_fT0WFEgKhZ6yFsfp19tyWN7ZAoE_IwT5dSt66L5RtyWF7TIFo9ewM8e4a
æ— æ•ˆçš„é€‰æ‹©
(base) root@autodl-container-322649a1f3-69f8bbcd:~/autodl-tmp/one_drive/onedrive_download# python onedrive_downloader_shared.py
è¯·è¾“å…¥å…±äº«é¡¹ç›®çš„ä¿¡æ¯:
1. åªè¾“å…¥é¡¹ç›®ID
2. è¾“å…¥é©±åŠ¨å™¨IDå’Œé¡¹ç›®ID
è¯·é€‰æ‹©è¾“å…¥æ–¹å¼ (1/2): 2
è¯·è¾“å…¥é©±åŠ¨å™¨ID: b!mxLvO8_fT0WFEgKhZ6yFsfp19tyWN7ZAoE_IwT5dSt66L5RtyWF7TIFo9ewM8e4a
è¯·è¾“å…¥é¡¹ç›®ID: 01HVJG3G6TO3PQXJAPGZD36OIWYWMW36YB
æ­£åœ¨å¤„ç†å…±äº«é¡¹ç›®: WavText5K (é©±åŠ¨å™¨ID: b!mxLvO8_fT0WFEgKhZ6yFsfp19tyWN7ZAoE_IwT5dSt66L5RtyWF7TIFo9ewM8e4a, é¡¹ç›®ID: 01HVJG3G6TO3PQXJAPGZD36OIWYWMW36YB)
æ­£åœ¨å¤„ç†å…±äº«é¡¹ç›®: test (é©±åŠ¨å™¨ID: b!mxLvO8_fT0WFEgKhZ6yFsfp19tyWN7ZAoE_IwT5dSt66L5RtyWF7TIFo9ewM8e4a, é¡¹ç›®ID: 01HVJG3GZMNGXARPJS3FGJWP67ICBROF2G)
æ­£åœ¨ä¸‹è½½: 0.tar (470.45 MB)
```


æŠŠå¯¹åº”çš„é©±åŠ¨idå’Œé¡¹ç›®idè¾“å…¥è¿›å»ï¼Œå°±ä¼šå¼€å§‹ä¸‹è½½ã€‚

ä¸‹è½½å¥½ä»¥åï¼Œå°†ä¸»ç›®å½•ä¸‹çš„ï¼š
step1
step2
step3
å¤åˆ¶åˆ°æ•°æ®ç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯æ”¾åˆ°å’Œtrain test validåŒä¸€ä¸ªç›®å½•ã€‚

ç„¶åstep1ï¼Œç›´æ¥run
python step1_unzip.py

ç„¶åstep2éœ€è¦æ”¹ä¸€ä¸‹ï¼Œéœ€è¦é—®aiï¼ŒæŠŠstep2çš„ä»£ç å’Œä»»æ„ä¸€ä¸ªtrain dataé‡Œçš„jsonæ–‡ä»¶äº¤ç»™aiï¼Œç„¶åé—®å®ƒï¼š

```
è§£æå‡ºæ¥çš„parquetåŒ…å«å“ªå‡ ä¸ªå­—æ®µï¼Ÿ

{"text": "OUTLAND Places - Orgallone - Loop 019", "original_data": {"file_path": "/mnt/audio_clip/dataset_creation/raw_datasets/wesoundeffects/WeSoundEffects/Thibault Rouslet/Outland Places Orgallone/OUTLAND Places - Orgallone - Loop 019.wav"}}

è¿™æ˜¯æˆ‘ç°åœ¨çš„jsonï¼Œè¯·é—®å½“å‰ä»£ç èƒ½å¤Ÿæ­£ç¡®è§£æå—ï¼Ÿä¿æŒparquetçš„å­—æ®µä¸å˜ï¼Œ

```

å¦‚æœä¸èƒ½æ­£ç¡®è§£æï¼Œè®©aiä¿®æ”¹åè¿”å›å®Œæ•´ä»£ç å³å¯ã€‚åº”è¯¥ä¸€æ¬¡æ€§èƒ½è¾“å‡ºæ­£ç¡®çš„ä»£ç ã€‚

ç„¶åç›´æ¥run 

nohup step2_generate_parquet.py

è¿™ä¸€æ­¥å®Œæˆä»¥åï¼Œæ‰¾åˆ°éé±¼å­è¦accesstoken


ç„¶åç™»é™†huggingfaceï¼Œ 
è¾“å…¥å‘½ä»¤ï¼š

```bash
huggingface-cli login
```

è¾“å…¥å®Œæˆåï¼Œå†æ‰§è¡Œ

nohup step3_upload_data.py

